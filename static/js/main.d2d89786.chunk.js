(this.webpackJsonpbookmarkstorage=this.webpackJsonpbookmarkstorage||[]).push([[0],{267:function(e,a,t){e.exports=t(507)},507:function(e,a,t){"use strict";t.r(a);t(268),t(277);var n=t(0),r=t.n(n),o=t(18),c=t.n(o),i=t(240),l=t(248),s=t(29),u=t(102),m=t(243),d=t(562),b=t(565),p=t(563),f=t(104),g=t(561),k=t(509),h=t(569),E=t(553),v=t(510),j=t(566),w=t(567),C=t(560),O=t(575),S=t(246),y=t.n(S),N=t(167),x=t.n(N),T=t(166),M=t.n(T),R=t(245),U=t.n(R),B=t(574),F=t(13),W=t(559),I=t(28),L=t(572),V=t(103),A=t(568),q=t(87),z=t(249),P=t(564),G=t(573),D=t(554),J=t(555),Y=t(556),$=t(557),H=t(53);function K(e){var a=e.open,t=e.onClose,n=e.searchTerm,o=e.onSearchTermChange,c=e.onSearch;return r.a.createElement(G.a,{open:a,onClose:t},r.a.createElement(D.a,null,"Search"),r.a.createElement(H.ValidatorForm,{onSubmit:c},r.a.createElement(J.a,null,r.a.createElement(H.TextValidator,{label:"Name or URL",variant:"outlined",fullWidth:!0,value:n,onChange:o,validators:["required"],errorMessages:["This field is required"]})),r.a.createElement(Y.a,null,r.a.createElement($.a,{color:"primary",onClick:t},"Close"),r.a.createElement($.a,{color:"primary",type:"submit"},"Search"))))}var Q=t(558),X=t(576),Z=t(239),_=t(570),ee=t(247),ae=Object(m.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},formFieldTopMargin:{marginTop:e.spacing(2)}}})),te=r.a.forwardRef((function(e,a){return r.a.createElement(Q.a,Object.assign({direction:"up",ref:a},e))}));function ne(e){var a=e.open,t=e.creatingNew,o=e.name,c=e.onNameChange,i=e.url,l=e.onUrlChange,s=e.category,u=e.onCategoryChange,m=e.bookmarkCategories,b=e.onClose,k=e.onSave,h=ae(),E=Object(W.a)(Object(I.a)().breakpoints.down("xs"));Object(n.useEffect)((function(){return H.ValidatorForm.addValidationRule("isURL",(function(e){return Object(ee.a)(e)})),function(){return H.ValidatorForm.removeValidationRule("isURL")}}),[]);var v=r.a.createElement(r.a.Fragment,null,r.a.createElement(H.TextValidator,{label:"Name",variant:"outlined",fullWidth:!0,className:E?h.formFieldTopMargin:null,value:o,onChange:c,validators:["required"],errorMessages:["This field is required."]}),r.a.createElement(H.TextValidator,{label:"URL",variant:"outlined",fullWidth:!0,className:h.formFieldTopMargin,value:i,onChange:l,validators:["required","isURL"],errorMessages:["This field is required.","This is not a URL."]}),r.a.createElement(_.a,{freeSolo:!0,options:m.map((function(e){return e.name})),defaultValue:s,inputValue:s,onInputChange:u,disableClearable:!0,renderInput:function(e){return r.a.createElement(Z.a,Object.assign({},e,{label:"Category",variant:"outlined",fullWidth:!0,className:h.formFieldTopMargin}))}}));return r.a.createElement(G.a,{open:a,onClose:b,fullScreen:E,TransitionComponent:te},E?r.a.createElement(r.a.Fragment,null,r.a.createElement(H.ValidatorForm,{onSubmit:k},r.a.createElement(d.a,{className:h.appBar},r.a.createElement(p.a,null,r.a.createElement(g.a,{edge:"start",color:"inherit",onClick:b,"aria-label":"close"},r.a.createElement(X.a,null)),r.a.createElement(f.a,{variant:"h6",className:h.title},t?"Add bookmark":"Edit Bookmark"),r.a.createElement($.a,{color:"inherit",type:"submit"},"Save"))),r.a.createElement(J.a,null,v))):r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,null,t?"Add bookmark":"Edit Bookmark"),r.a.createElement(H.ValidatorForm,{onSubmit:k},r.a.createElement(J.a,null,v),r.a.createElement(Y.a,null,r.a.createElement($.a,{color:"primary",onClick:b},"Cancel"),r.a.createElement($.a,{color:"primary",type:"submit"},"Save")))))}var re=Object(m.a)((function(e){return{title:{padding:e.spacing(2,2,0)},paper:Object(u.a)({margin:"auto",marginTop:e.spacing(3),maxWidth:"80vw",paddingBottom:e.spacing(8)},e.breakpoints.down("xs"),{margin:0,maxWidth:"100vw"}),subheader:{backgroundColor:e.palette.background.paper,overflow:"hidden"},appBar:{top:"auto",bottom:0},grow:{flexGrow:1},fabButton:{position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"},search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(F.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(F.c)(e.palette.common.white,.25)},width:"auto"},searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(u.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),noBookmarksText:{padding:e.spacing(2,2,0)},userGeneratedText:{overflow:"hidden"}}}));var oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ce(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement((function(){var e=re(),a=Object(V.useLocalStorage)("bookmarkCategories",[{id:1,name:"Uncategorized",bookmarks:[{id:1,name:"Edit me!",url:"https://example.com",categoryName:"Uncategorized"}]}]),t=Object(s.a)(a,1)[0],o=Object(q.usePopupState)({variant:"popover",popupId:"bookmarkMenu"}),c=Object(n.useState)(null),u=Object(s.a)(c,2),m=u[0],S=u[1],N=Object(n.useState)(!1),T=Object(s.a)(N,2),R=T[0],F=T[1],H=Object(n.useState)(!1),Q=Object(s.a)(H,2),X=Q[0],Z=Q[1],_=function(e){var a=t.slice(0),n=a.find((function(e){return e.name===m.categoryName})),r=n.bookmarks.indexOf(m);n.bookmarks.splice(r-e,0,n.bookmarks.splice(r,1)[0]),Object(V.writeStorage)("bookmarkCategories",a)},ee=Object(n.useState)(""),ae=Object(s.a)(ee,2),te=ae[0],oe=ae[1],ce=Object(n.useState)("https://"),ie=Object(s.a)(ce,2),le=ie[0],se=ie[1],ue=Object(n.useState)(""),me=Object(s.a)(ue,2),de=me[0],be=me[1],pe=Object(n.useState)(!1),fe=Object(s.a)(pe,2),ge=fe[0],ke=fe[1],he=Object(n.useState)(-1),Ee=Object(s.a)(he,2),ve=Ee[0],je=Ee[1],we=Object(n.useState)(!1),Ce=Object(s.a)(we,2),Oe=Ce[0],Se=Ce[1],ye=Object(n.useState)(!1),Ne=Object(s.a)(ye,2),xe=Ne[0],Te=Ne[1],Me=Object(n.useState)(""),Re=Object(s.a)(Me,2),Ue=Re[0],Be=Re[1],Fe=Object(n.useState)(""),We=Object(s.a)(Fe,2),Ie=We[0],Le=We[1],Ve=Object(n.useState)(t),Ae=Object(s.a)(Ve,2),qe=Ae[0],ze=Ae[1];Object(n.useEffect)((function(){if(""===Ie)ze(t);else{var e=t.slice(0);e=(e=e.map((function(e){return Object(i.a)({},e,{bookmarks:e.bookmarks.filter((function(e){return e.name.toLowerCase().includes(Ie.toLowerCase())||e.url.toLowerCase().replace(/(^\w+:|^)\/\//,"").includes(Ie.toLowerCase())}))})}))).filter((function(e){return 0!==e.bookmarks.length})),ze(e)}}),[t,Ie]);var Pe=Object(q.usePopupState)({variant:"popover",popupId:"appMenu"}),Ge=Object(n.useState)(!1),De=Object(s.a)(Ge,2),Je=De[0],Ye=De[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{open:Je,onClose:function(){return Ye(!1)}},r.a.createElement(D.a,null,"About app"),r.a.createElement(J.a,null,r.a.createElement(f.a,{color:"textSecondary"},"This web app was created using React and Material-UI. It uses your browsers local storage to store the bookmarks. It's also a PWA, which means you can install it like a native app and use it even offline.",r.a.createElement("br",null),"See the source code on"," ",r.a.createElement("a",{href:"https://github.com/kokolem/bookmarkmanager/"},"Github"),".")),r.a.createElement(Y.a,null,r.a.createElement($.a,{color:"primary",onClick:function(){return Ye(!1)}},"Close"))),r.a.createElement(K,{open:xe,onClose:function(){return Te(!1)},searchTerm:Ue,onSearchTermChange:function(e){return Be(e.target.value)},onSearch:function(){Te(!1),Le(Ue)}}),r.a.createElement(ne,{open:ge,creatingNew:Oe,name:te,onNameChange:function(e){return oe(e.target.value)},url:le,onUrlChange:function(e){return se(e.target.value)},category:de,onCategoryChange:function(e,a){return be(a)},bookmarkCategories:t,onClose:function(){return ke(!1)},onSave:function(){ke(!1),function(){var e=t.slice(0),a=""===de?"Uncategorized":de,n={id:-1,name:te,url:le,categoryName:a};if(Oe)n.id=Math.max.apply(Math,Object(l.a)(e.reduce((function(e,a){return e.concat(a.bookmarks.map((function(e){return e.id})))}),[])))+1,n.id===-1/0&&(n.id=1);else{n.id=ve;var r=e.find((function(e){return e.bookmarks.map((function(e){return e.id})).includes(ve)}));r.bookmarks=r.bookmarks.filter((function(e){return e.id!==ve})),e=e.filter((function(e){return 0!==e.bookmarks.length}))}var o=e.find((function(e){return e.name===a}));if(void 0===o){var c={id:e.reduce((function(e,a){return Math.max(a.id,e)}),0)+1,name:a,bookmarks:[n]};"Uncategorized"===a?e.unshift(c):e.push(c)}else o.bookmarks.push(n);Object(V.writeStorage)("bookmarkCategories",e)}()}}),r.a.createElement(z.a,Object(q.bindMenu)(Pe),r.a.createElement(P.a,{onClick:function(){Pe.close(),Ye(!0)}},"About app")),r.a.createElement(z.a,Object(q.bindMenu)(o),r.a.createElement(P.a,{onClick:function(){var e;o.close(),oe((e=m).name),se(e.url),be(e.categoryName),je(e.id),Se(!1),ke(!0)}},"Edit"),r.a.createElement(P.a,{onClick:function(){o.close(),function(){var e=t.slice(0),a=e.find((function(e){return e.name===m.categoryName}));a.bookmarks=a.bookmarks.filter((function(e){return e.id!==m.id})),e=e.filter((function(e){return 0!==e.bookmarks.length})),Object(V.writeStorage)("bookmarkCategories",e)}()}},"Delete"),R&&r.a.createElement(P.a,{onClick:function(){o.close(),_(1)}},"Move up"),X&&r.a.createElement(P.a,{onClick:function(){o.close(),_(-1)}},"Move down")),r.a.createElement(b.a,null),r.a.createElement(k.a,{className:e.paper,square:Object(W.a)(Object(I.a)().breakpoints.down("xs"))},r.a.createElement(f.a,{className:e.title,variant:"h5",gutterBottom:!0},"Your bookmarks"),r.a.createElement(E.a,null,qe.map((function(a){return r.a.createElement(r.a.Fragment,{key:"category".concat(a.id)},r.a.createElement(C.a,{className:e.subheader},a.name),a.bookmarks.map((function(a){return r.a.createElement(r.a.Fragment,{key:"bookmark".concat(a.id)},r.a.createElement(v.a,{button:!0,component:"a",href:a.url},r.a.createElement(j.a,null,r.a.createElement(O.a,{alt:"Bookmarked websites favicon",src:"https://besticon-demo.herokuapp.com/icon?url=".concat(a.url,"&size=32..40..200")},a.name[0])),r.a.createElement(w.a,{primary:a.name,secondary:a.url,className:e.userGeneratedText}),r.a.createElement(A.a,null,r.a.createElement(g.a,{edge:"end",onClick:function(e){return function(e,a){S(e);var n=t.find((function(a){return a.name===e.categoryName}));F(n.bookmarks[0]!==e),Z(n.bookmarks.slice(-1)[0]!==e),o.toggle(a)}(a,e)}},r.a.createElement(M.a,null)))))})))}))),0===qe.length&&r.a.createElement(r.a.Fragment,null,""===Ie?r.a.createElement(f.a,{color:"textSecondary",className:e.noBookmarksText},"No bookmarks saved. Go add some!"):r.a.createElement(f.a,{color:"textSecondary",className:e.noBookmarksText},"No bookmarks found for your query."))),r.a.createElement(d.a,{position:"fixed",color:"primary",className:e.appBar},r.a.createElement(p.a,null,r.a.createElement(L.a,{xsDown:!0},r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(x.a,null)),r.a.createElement(B.a,{placeholder:"Search\u2026",value:Ie,onChange:function(e){return Le(e.target.value)},classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}}))),r.a.createElement(L.a,{smUp:!0},r.a.createElement(g.a,{color:"inherit",onClick:function(){return Te(!0)}},r.a.createElement(x.a,null)),""!==Ie&&r.a.createElement(g.a,{color:"inherit",onClick:function(){Le(""),Be("")}},r.a.createElement(U.a,null))),r.a.createElement(h.a,{color:"secondary","aria-label":"add",className:e.fabButton,onClick:function(){oe(""),se("https://"),be(""),je(-1),Se(!0),ke(!0)}},r.a.createElement(y.a,null)),r.a.createElement("div",{className:e.grow}),r.a.createElement(g.a,Object.assign({edge:"end",color:"inherit"},Object(q.bindToggle)(Pe)),r.a.createElement(M.a,null)))))}),null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/bookmarkmanager",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/bookmarkmanager","/service-worker.js");oe?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ce(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ce(a,e)}))}}()}},[[267,1,2]]]);
//# sourceMappingURL=main.d2d89786.chunk.js.map